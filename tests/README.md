# Tests for rocksdb-indexdb-adapter

This directory contains all tests for the IndexDBStorage adapter:

## Test Types

### `/unit` - Unit Tests
Node.js-based unit tests running with Bun test runner. These tests use `fake-indexeddb` to simulate the browser environment.

Run with:
```bash
bun test tests/unit
# or
npm run test:unit
```

### `/e2e` - End-to-End Tests
End-to-end tests using Playwright for automated browser testing. These tests automate the browser to run IndexDBStorage in a real browser environment.

Run with:
```bash
bun run test:e2e
# or
npm run test:e2e
```

### `/browser` - Browser Test Files (Only needed for E2E)
This folder contains the HTML, JavaScript, and polyfill files needed for the E2E tests to run. These files are served by Vite during E2E testing.

**Note**: These files are only used by the E2E tests and are not meant to be run manually. If you're only using E2E tests, you don't need to modify these files directly.

### `/output` - Test Outputs
Contains all test outputs organized in the following structure:
- `/output/results` - Test result files from Playwright
- `/output/report` - HTML reports generated by Playwright
- `/output/screenshots` - Screenshots taken during test runs

## Debugging E2E Tests

For debugging E2E tests, you can use the following commands:

```bash
# Run with UI mode for interactive debugging
bun run test:e2e:ui

# Run with debug mode for step-by-step debugging
bun run test:e2e:debug
```

## Test Results

E2E test results and screenshots will be saved in the `test-results` directory at the root of the project. 